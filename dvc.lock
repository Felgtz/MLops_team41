schema: '2.0'
stages:
  dep_preprocess:
    cmd: mkdir -p data/processed reports/figures && cp 
      ../../EDA/online-news-popularity/data/processed/df_final_validated.csv 
      data/processed/df_ready_for_modeling.csv
    deps:
    - path: 
        ../../EDA/online-news-popularity/data/processed/df_final_validated.csv
      hash: md5
      md5: bf55b661371815c65ee1b6acd5a94178
      size: 22745577
    - path: src/cli.py
      hash: md5
      md5: b56dd75f602ff306100447c391df05d3
      size: 4001
    - path: src/config.py
      hash: md5
      md5: 5093d6e3d60e17404f75e01ba61aa62e
      size: 1498
    - path: src/data.py
      hash: md5
      md5: 8babfa72386d382689f8205373faf988
      size: 4223
    - path: src/features.py
      hash: md5
      md5: cd644b227ca934440aebf75fad3ba27f
      size: 5487
    - path: src/logger.py
      hash: md5
      md5: 16ad8fd746b84c60a93e73340e94b8ef
      size: 2945
    - path: src/visualization.py
      hash: md5
      md5: 486eae8bee7b778a74d3b6e10365d610
      size: 5360
    outs:
    - path: data/processed/df_ready_for_modeling.csv
      hash: md5
      md5: bf55b661371815c65ee1b6acd5a94178
      size: 22745577
    - path: reports/figures
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  eda_clean:
    cmd: "python -m online_news_popularity.pipeline.clean_dataset --raw data/raw/online_news_modified.csv
      --reference data/raw/online_news_original.csv --final data/processed/df_final_validated.csv\n"
    deps:
    - path: data/raw/online_news_modified.csv
      hash: md5
      md5: 090524048093aa39961f00534c030436
      size: 22701243
    - path: data/raw/online_news_original.csv
      hash: md5
      md5: f11d98504aa3147415859a982880729f
      size: 21972748
    - path: src/online_news_popularity/cleaning
      hash: md5
      md5: c16d833730afa8e261fbfb974e1d31cf.dir
      size: 87834
      nfiles: 15
    - path: src/online_news_popularity/features
      hash: md5
      md5: 85da9ede4d1a6e20da2dc6ed5347ce82.dir
      size: 10603
      nfiles: 3
    - path: src/online_news_popularity/pipeline/clean_dataset.py
      hash: md5
      md5: d430e717393e6c93b4086a753d8a4aec
      size: 5784
    outs:
    - path: data/processed/df_final_validated.audit.json
      hash: md5
      md5: c94bb0004ce6d43959e7d1ae9b08a639
      size: 10585
    - path: data/processed/df_final_validated.csv
      hash: md5
      md5: bf55b661371815c65ee1b6acd5a94178
      size: 22745577
  train_eval:
    cmd: python -m src.train_eval --in 
      ../../DEP/Data_exploration_and_preprocessing/data/processed/df_ready_for_modeling.csv
      --model_out models/model.pkl --metrics_out metrics/metrics.json
    deps:
    - path: 
        ../../DEP/Data_exploration_and_preprocessing/data/processed/df_ready_for_modeling.csv
      hash: md5
      md5: bf55b661371815c65ee1b6acd5a94178
      size: 22745577
    - path: src/train_eval.py
      hash: md5
      md5: 8386ba64f0af14a8ad3ba391b6e756d2
      size: 2664
    params:
      params.yaml:
        train_eval.model: ridge
        train_eval.random_state: 42
        train_eval.test_size: 0.2
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 74a1d2a085c977a3c13ba6bca1ec71bb
      size: 61
    - path: models/model.pkl
      hash: md5
      md5: 1282634a5687e329e2385a1aac22c58b
      size: 2473
